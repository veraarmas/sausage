# Telar - Digital Storytelling Framework
# https://telar.org

# Site Settings
title: Telar
description: "Telar (Spanish for 'loom') is a static site generator built on Jekyll that weaves together IIIF images, text, and layered contextual information into interactive digital narrative exhibitions. <a href='https://github.com/UCSB-AMPLab/telar'>Telar</a> is a project of <a href='https://neogranadina.org'>Neogranadina</a> and the Archives, Memory, and Preservation Labs at <a href='https://ampl.clair.ucsb.edu/'>UC Santa Barbara</a> and <a href='https://liberalarts.utexas.edu/history/'>UT Austin</a>."
baseurl: "/telar"
url: "https://ampl.clair.ucsb.edu"
author: ""
email: ""
telar_theme: "paisajes" # Options: paisajes, neogranadina, santa-barbara, austin, or custom
logo: "" # Path to logo image (optional, max 80px tall, 200-300px wide recommended)
telar_language: "en" # Options: "en" (English), "es" (EspaÃ±ol)

# Story Interface Settings
story_interface:
  show_on_homepage: true # Set to false to hide stories section from homepage (stories still accessible via direct URL)
  show_story_steps: true # Set to false to hide "Step X" overlay in stories
  show_object_credits: true # Set to true to display object credits badge (bottom-left corner, dismissable)
  include_demo_content: true # Fetch demo stories from content.telar.org. Switch this off to hide demo stories and their content.

# Collection Interface Settings
collection_interface:
  browse_and_search: true # Set to false to disable filtering sidebar and search on objects page
  show_link_on_homepage: true # Set to false to hide "View the objects" link from homepage
  show_sample_on_homepage: true # Set to true to show a sample of objects on homepage
  featured_count: 4 # Number of objects to show on homepage (default 4)

# Story Protection (optional)
# Stories with protected=yes in project.csv will be encrypted.
# Viewers need this key to unlock protected stories.
story_key: "test"

# Google Sheets Integration (optional)
# Manage content via Google Sheets instead of editing CSV files directly.
# See https://telar.org/docs/workflows/google-sheets/ for detailed setup instructions.
#
# Setup:
# 1. Get the template: Duplicate our template at https://bit.ly/telar-template
# 2. Share your sheet: Anyone with the link (Viewer access)
# 3. Publish your sheet: File > Share > Publish to web
# 4. Paste both URLs below
# 5. Set enabled: true
# 6. Commit changes
#    - If using GitHub Pages: GitHub Actions will automatically discover tab GIDs and fetch CSVs
#    - If running locally: Run `python3 scripts/fetch_google_sheets.py` before building
google_sheets:
  enabled: true
  shared_url: "https://docs.google.com/spreadsheets/d/18dJWy9wkLD7Muokigg4wp85c3Vsjuphdrn0g51pwkGY/edit"
  published_url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vT9eeRoyQCr1j-1uDaWBm-rgZNXtn9A-mepL0I4dqDTx2-E_6gbVD-8x0DYDVhppiAzrFpd20_9cr3z/pubhtml"


#
#
#
# PLEASE DO NOT EDIT BELOW THIS LINE UNLESS YOU KNOW WHAT YOU ARE DOING
#
#
#

# Collections
collections:
  stories:
    output: true
    permalink: /stories/:name/
  objects:
    output: true
    permalink: /objects/:name/
  glossary:
    output: true
    permalink: /glossary/:name/
  pages:
    output: true
    permalink: /:name/

# Collections Directory (a folder where Jekyll and the Telar scripts will put all auto-generated object and story working files)
collections_dir: _jekyll-files

# Build Settings
markdown: kramdown
permalink: pretty
exclude:
  - Gemfile
  - Gemfile.lock
  - node_modules
  - vendor
  - .github
  - README.md
  - docs/
  - scripts/

# Defaults
defaults:
  - scope:
      path: ""
      type: "stories"
    values:
      layout: "story"
  - scope:
      path: ""
      type: "objects"
    values:
      layout: "object"
  - scope:
      path: ""
      type: "glossary"
    values:
      layout: "glossary"
  - scope:
      path: ""
      type: "pages"
    values:
      layout: "user-page"

# Tell Jekyll not to expect dates for these collections
future: true
show_drafts: false

# Telar Settings (version information)
telar:
  version: "0.8.0-beta"
  release_date: "2026-02-05"

# Plugins
plugins:
  - jekyll-seo-tag

# WEBrick server configuration for development (enables CORS for IIIF)
webrick:
  headers:
    Access-Control-Allow-Origin: "*"
    Access-Control-Allow-Methods: "GET, POST, OPTIONS"
    Access-Control-Allow-Headers: "Content-Type"

# Development & Testing
# Set to false or remove for production use
development-features:
  # Christmas Tree Mode - Displays all warning messages for testing multilingual support
  # Set to true to light up the site with test warnings (test objects, fake errors, etc.)
  christmas_tree_mode: false

  # Viewer preloading configuration
  # Controls how story viewers are preloaded for smoother navigation.
  # Higher values = smoother scrolling but more memory usage.
  # Lower values = less memory but may show loading shimmer during navigation.
  # These defaults work well for most sites. Only adjust if experiencing issues.
  viewer_preloading:
    max_viewer_cards: 10    # Max viewers in memory. Higher = smoother, more memory. (default: 10, max: 15)
    preload_steps: 6        # Steps to preload ahead. Higher = smoother, more memory. (default: 6)
    loading_threshold: 5    # Show shimmer on intro if story has >= N viewers. (default: 5)
    min_ready_viewers: 3    # Hide shimmer when N viewers ready. (default: 3)

  # Skip stories - skips story generation entirely
  # Objects remain visible and accessible
  # (Backward compatible: hide_stories also supported)
  skip_stories: false

  # Skip collections - skips both object AND story generation
  # Use this when building a site with only custom pages (no stories or objects)
  # (Backward compatible: hide_collections also supported)
  skip_collections: false